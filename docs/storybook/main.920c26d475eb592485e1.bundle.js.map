{"version":3,"file":"main.920c26d475eb592485e1.bundle.js","sources":["webpack:///./src/ui/components/ship-blueprint/index.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport {EBattleShipType} from \"../../../battle/battleship\";\n\nimport EnumSelect from \"../enum-select\";\nimport NumberInput from \"../number-input\";\nimport WeaponGroup, {IWeaponGroupState} from \"../weapon-group\";\nimport WeaponList from \"../weapon-list\";\n\nimport StateHolder, {IStateHolderAction} from \"../../lib/state-holder\";\n\nconst styles = require(\"./index.pcss\");\n\nexport const shipTypeTitles: { [key in EBattleShipType]: string } = {\n    [EBattleShipType.interceptor]: \"Interceptor\",\n    [EBattleShipType.cruiser]: \"Cruiser\",\n    [EBattleShipType.dreadnought]: \"Dreadnought\",\n    [EBattleShipType.deathmoon]: \"Deathmoon\",\n    [EBattleShipType.starbase]: \"Starbase\",\n};\n\nconst shipsCount: { [key in EBattleShipType]: number } = {\n    [EBattleShipType.interceptor]: 8,\n    [EBattleShipType.cruiser]: 4,\n    [EBattleShipType.dreadnought]: 2,\n    [EBattleShipType.deathmoon]: 4,\n    [EBattleShipType.starbase]: 4,\n};\n\nexport interface IShipBlueprintState {\n    count: number;\n    type: EBattleShipType;\n    hp: number;\n    initiative: number;\n    defence: number;\n    attack: number;\n    heal: number;\n    weapons: IWeaponGroupState[];\n}\n\ninterface IShipBlueprintProps extends React.Props<ShipBlueprint>, Partial<IShipBlueprintState> {\n    onChange: IStateHolderAction<IShipBlueprintState>;\n}\n\nconst DEFAULT_COUNT = 1;\nconst DEFAULT_TYPE = EBattleShipType.interceptor;\nconst DEFAULT_HP = 1;\nconst DEFAULT_INITIATIVE = 0;\nconst DEFAULT_DEFENCE = 0;\nconst DEFAULT_ATTACK = 0;\nconst DEFAULT_HEAL = 0;\n\nexport default class ShipBlueprint extends React.Component<IShipBlueprintProps, null> {\n    public render() {\n        const {\n            count = DEFAULT_COUNT,\n            type = DEFAULT_TYPE,\n            hp = DEFAULT_HP,\n            initiative = DEFAULT_INITIATIVE,\n            defence = DEFAULT_DEFENCE,\n            attack = DEFAULT_ATTACK,\n            heal = DEFAULT_HEAL,\n            weapons = [WeaponGroup.defaultState],\n        } = this.props;\n\n        const props = {count, type, hp, initiative, defence, attack, heal, weapons};\n        const holder = new StateHolder(props, (newState) => this.props.onChange(newState));\n\n        return (\n            <div className={styles.wrapper}>\n                <div className={styles.head}>\n                    <NumberInput\n                        onChange={holder.onChange(\"count\")}\n                        state={count}\n                        min={1}\n                        max={shipsCount[type]}\n                    />\n\n                    <EnumSelect\n                        onChange={holder.onChange(\"type\")}\n                        state={type}\n                        options={shipTypeTitles}\n                    />\n                </div>\n\n                <div className={styles.stats}>\n                    <div className={styles.stat}>\n                        <div className={styles.statLabel}>Hp:</div>\n                        <NumberInput\n                            onChange={holder.onChange(\"hp\")}\n                            state={hp}\n                            min={1}\n                        />\n                    </div>\n\n                    <div className={styles.stat}>\n                        <div className={styles.statLabel}>Initiative:</div>\n                        <NumberInput\n                            onChange={holder.onChange(\"initiative\")}\n                            state={initiative}\n                        />\n                    </div>\n\n                    <div className={styles.stat}>\n                        <div className={styles.statLabel}>Defence:</div>\n                        <NumberInput\n                            onChange={holder.onChange(\"defence\")}\n                            state={defence}\n                            min={0}\n                        />\n                    </div>\n\n                    <div className={styles.stat}>\n                        <div className={styles.statLabel}>Attack:</div>\n                        <NumberInput\n                            onChange={holder.onChange(\"attack\")}\n                            state={attack}\n                            min={0}\n                        />\n                    </div>\n\n                    <div className={styles.stat}>\n                        <div className={styles.statLabel}>Heal:</div>\n                        <NumberInput\n                            onChange={holder.onChange(\"heal\")}\n                            state={heal}\n                            min={0}\n                            max={6}\n                        />\n                    </div>\n                </div>\n\n                <WeaponList\n                    onChange={holder.onChange(\"weapons\")}\n                    weapons={weapons}\n                />\n            </div>\n        );\n    }\n\n    public static get defaultState(): IShipBlueprintState {\n        return {\n            count: DEFAULT_COUNT,\n            type: DEFAULT_TYPE,\n            hp: DEFAULT_HP,\n            initiative: DEFAULT_INITIATIVE,\n            defence: DEFAULT_DEFENCE,\n            attack: DEFAULT_ATTACK,\n            heal: DEFAULT_HEAL,\n            weapons: [WeaponGroup.defaultState],\n        };\n    }\n}\n"],"mappings":"AAAA","sourceRoot":""}